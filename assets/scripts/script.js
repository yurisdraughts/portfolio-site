import{enableDarkmode,disableDarkmode,toggleDarkmode}from"./modules/darkMode.js";import{toggleHeaderNav}from"./modules/headerNav.js";import{Game}from"./modules/game.js";import{createApp}from"https://unpkg.com/vue@3.2.45/dist/vue.esm-browser.prod.js";window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches&&enableDarkmode()}),window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",e=>{e.matches&&disableDarkmode()}),document.querySelector(".header__dark-mode-toggle").addEventListener("click",toggleDarkmode),document.querySelector(".header__nav-list-toggle").addEventListener("click",toggleHeaderNav),document.addEventListener("click",e=>{"true"!==document.querySelector(".header__nav").dataset.open||document.querySelector(".header__nav-list-toggle").contains(e.target)||toggleHeaderNav()});const popup=document.querySelector(".message-sent_success"),errorPopup=document.querySelector(".message-sent_error"),background=document.querySelector(".message-sent__background");document.querySelector(".contact__form").addEventListener("submit",function(e){e.preventDefault(),emailjs.sendForm("service_r185bav","template_0tz4rrn",this).then(()=>{this.querySelectorAll(".form__element_input").forEach(e=>{e.value=""}),popup.classList.remove("display-none")}).catch(e=>{console.log("EmailJS Error: ",e),errorPopup.classList.remove("display-none")}),background.classList.remove("display-none")}),document.addEventListener("click",e=>{popup.classList.contains("display-none")||e.target===popup||(popup.classList.add("display-none"),background.classList.add("display-none"))}),createApp({data(){return new Game},computed:{showMessage(){return this.inProgress?"":"game__board_show-message"},whoseTurn(){return this.playersTurn?"game_x":"game_circle"}},methods:{value(e){return e.value===Game.playerMark?"game__cell_x":e.value===Game.programMark?"game__cell_circle":""}}}).mount("#game");